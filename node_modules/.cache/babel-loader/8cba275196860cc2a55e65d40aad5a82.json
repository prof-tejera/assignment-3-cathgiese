{"ast":null,"code":"import _taggedTemplateLiteral from\"/Users/catherinegiese/Documents/GitHub/assignment-3-cathgiese/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{useContext,useEffect}from\"react\";import{DragDropContext,Droppable,Draggable}from'@hello-pangea/dnd';import styled from\"styled-components\";import{TimerContext}from\"../TimerProvider\";import{Link}from\"react-router-dom\";import Button from\"../components/generic/Button/Button\";import Timer from\"../components/timers/Timer\";const Timers=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  display: grid;\\n  align-items: center;\\n  grid-template-columns: auto;\\n  justify-content: center;\\n\"])));const TimerDiv=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  border: 1px solid gray;\\n  padding: 20px;\\n  margin: 10px;\\n  font-size: 1.5rem;\\n\"])));const ControlButtons=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  display: grid;\\n  grid-template-columns: auto;\\n  align-items: center;\\n  padding: 20px;\\n  margin: 10px;\\n  font-size: 1.5rem;\\n\"])));const TimersView=()=>{const{timers,setTimers,totalTime,isRunning,restart,startStop,nextTimer,isReset,remove,totalTimeCalc,edit,isEditing}=useContext(TimerContext);useEffect(()=>{if(totalTime===0||isReset){totalTimeCalc();}},[totalTime,isReset,totalTimeCalc]);// Minutes calculation\nconst minutesCalc=Math.floor(totalTime%360000/6000);// Seconds calculation\nconst secondsCalc=Math.floor(totalTime%6000/100);const handleOnDragEnd=result=>{const items=timers;const[reorderedItem]=items.splice(result.source.index,1);items.splice(result.destination.index,0,reorderedItem);setTimers(items);restart();};return/*#__PURE__*/React.createElement(ControlButtons,null,/*#__PURE__*/React.createElement(Link,{to:\"/add\"},/*#__PURE__*/React.createElement(Button,{text:\"+ Add timer\",color:\"Default-button Button-add\"})),/*#__PURE__*/React.createElement(\"br\",null),/*#__PURE__*/React.createElement(Button,{text:\"Save workout\",color:\"Default-button Button-add\",onClick:e=>{window.location.hash=encodeURIComponent(JSON.stringify(timers));}}),/*#__PURE__*/React.createElement(Button,{text:isRunning?\"Pause workout\":\"Start workout\",onClick:timers.length===0?null:startStop,color:isRunning?\"Default-button Button-danger\":\"Default-button Button-go\"}),/*#__PURE__*/React.createElement(Button,{text:\"Skip timer >>\",color:\"Default-button\",onClick:timers.length===0?null:nextTimer}),/*#__PURE__*/React.createElement(Button,{text:\"Restart workout\",color:\"Default-button\",onClick:timers.length===0?null:restart}),/*#__PURE__*/React.createElement(\"h2\",null,\"Total time: \",minutesCalc,\"m\",secondsCalc,\"s\"),/*#__PURE__*/React.createElement(DragDropContext,{onDragEnd:handleOnDragEnd},/*#__PURE__*/React.createElement(Droppable,{droppableId:\"timers\"},provided=>/*#__PURE__*/React.createElement(Timers,Object.assign({},provided.droppableProps,{ref:provided.innerRef}),timers.map((timer,index)=>/*#__PURE__*/React.createElement(Draggable,{key:\"drag-\".concat(timer.id),draggableId:\"drag-\".concat(timer.id),index:index},provided=>/*#__PURE__*/React.createElement(TimerDiv,Object.assign({key:\"timer-\".concat(timer.id)},provided.dragHandleProps,provided.draggableProps,{ref:provided.innerRef}),/*#__PURE__*/React.createElement(Timer,{id:timer.id,type:timer.type,description:timer.description,rounds:timer.rounds,minutes:timer.minutes,seconds:timer.seconds,status:timer.status,isReset:isReset,work:timer.work,rest:timer.rest}),/*#__PURE__*/React.createElement(Button,{text:\"Edit\",color:isEditing||isRunning?\"hidden\":\"Default-button\",onClick:()=>edit({id:timer.id})}),/*#__PURE__*/React.createElement(Button,{text:\"Remove\",color:isEditing||isRunning?\"hidden\":\"Default-button Button-danger\",onClick:()=>remove({id:timer.id})})))),provided.placeholder))));};export default TimersView;","map":{"version":3,"names":["React","useContext","useEffect","DragDropContext","Droppable","Draggable","styled","TimerContext","Link","Button","Timer","Timers","div","_templateObject","_taggedTemplateLiteral","TimerDiv","_templateObject2","ControlButtons","_templateObject3","TimersView","timers","setTimers","totalTime","isRunning","restart","startStop","nextTimer","isReset","remove","totalTimeCalc","edit","isEditing","minutesCalc","Math","floor","secondsCalc","handleOnDragEnd","result","items","reorderedItem","splice","source","index","destination","createElement","to","text","color","onClick","e","window","location","hash","encodeURIComponent","JSON","stringify","length","onDragEnd","droppableId","provided","Object","assign","droppableProps","ref","innerRef","map","timer","key","concat","id","draggableId","dragHandleProps","draggableProps","type","description","rounds","minutes","seconds","status","work","rest","placeholder"],"sources":["/Users/catherinegiese/Documents/GitHub/assignment-3-cathgiese/src/views/TimersView.js"],"sourcesContent":["import React, { useContext, useEffect } from \"react\";\nimport { DragDropContext, Droppable, Draggable } from '@hello-pangea/dnd';\nimport styled from \"styled-components\";\nimport { TimerContext } from \"../TimerProvider\";\nimport { Link } from \"react-router-dom\";\n\nimport Button from \"../components/generic/Button/Button\";\nimport Timer from \"../components/timers/Timer\";\n\nconst Timers = styled.div`\n  display: grid;\n  align-items: center;\n  grid-template-columns: auto;\n  justify-content: center;\n`;\n\nconst TimerDiv = styled.div`\n  border: 1px solid gray;\n  padding: 20px;\n  margin: 10px;\n  font-size: 1.5rem;\n`;\n\nconst ControlButtons = styled.div`\n  display: grid;\n  grid-template-columns: auto;\n  align-items: center;\n  padding: 20px;\n  margin: 10px;\n  font-size: 1.5rem;\n`;\n\nconst TimersView = () => { \n  const {timers, \n        setTimers,\n        totalTime,\n        isRunning,\n        restart,\n        startStop,\n        nextTimer,\n        isReset, \n        remove, \n        totalTimeCalc, \n        edit,\n        isEditing} = useContext(TimerContext)\n\n  useEffect(() => {\n    if (totalTime === 0 || isReset) {\n      totalTimeCalc()\n    }\n  }, [totalTime, isReset, totalTimeCalc])  \n        \n\n  // Minutes calculation\n  const minutesCalc = Math.floor((totalTime % 360000) / 6000);\n \n  // Seconds calculation\n  const secondsCalc = Math.floor((totalTime % 6000) / 100);\n\n  const handleOnDragEnd = (result) => {\n    const items = timers\n    const [reorderedItem] = items.splice(result.source.index, 1)\n    items.splice(result.destination.index, 0, reorderedItem)\n    setTimers(items)\n    restart()\n  }\n  \n  return (\n    <ControlButtons>\n      <Link to=\"/add\"><Button text=\"+ Add timer\" color={\"Default-button Button-add\"} /></Link><br></br>\n      <Button \n        text={\"Save workout\"}\n        color={\"Default-button Button-add\"}\n        onClick={e => {window.location.hash = encodeURIComponent(JSON.stringify(timers))}} />\n      <Button \n        text={isRunning ? \"Pause workout\" : \"Start workout\"}\n        onClick={timers.length === 0 ? null : startStop}\n        color={isRunning ? \"Default-button Button-danger\":\"Default-button Button-go\"} />\n      <Button \n        text={\"Skip timer >>\"}\n        color={\"Default-button\"}\n        onClick={timers.length === 0 ? null : nextTimer} />\n      <Button \n        text={\"Restart workout\"}\n        color={\"Default-button\"}\n        onClick={timers.length === 0 ? null : restart} />\n    <h2>Total time: {minutesCalc}m{secondsCalc}s</h2>\n    <DragDropContext onDragEnd={handleOnDragEnd}>\n      <Droppable droppableId=\"timers\">\n        {(provided) => (\n          <Timers {...provided.droppableProps} ref={provided.innerRef}>\n            {timers.map((timer, index) => (\n              <Draggable key={`drag-${timer.id}`} draggableId={`drag-${timer.id}`} index={index}>\n                {(provided) => (\n                  <TimerDiv key={`timer-${timer.id}`} {...provided.dragHandleProps} {...provided.draggableProps} ref={provided.innerRef}>\n                    <Timer\n                        id={timer.id}\n                        type={timer.type}\n                        description={timer.description}\n                        rounds={timer.rounds}\n                        minutes={timer.minutes} \n                        seconds={timer.seconds}\n                        status={timer.status} \n                        isReset={isReset}\n                        work={timer.work} \n                        rest={timer.rest}/>\n                    <Button \n                        text={\"Edit\"}\n                        color={isEditing || isRunning ? \"hidden\": \"Default-button\"}\n                        onClick={() => edit({id:timer.id})}/>\n                    <Button \n                        text={\"Remove\"}\n                        color={isEditing || isRunning ? \"hidden\":\"Default-button Button-danger\"}\n                        onClick={() => remove({id:timer.id})}/>\n                  </TimerDiv>\n                 )}\n              </Draggable>\n            ))}\n            {provided.placeholder}\n          </Timers>\n        )}\n      </Droppable>\n    </DragDropContext>\n    </ControlButtons>\n  );\n};\n\nexport default TimersView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}