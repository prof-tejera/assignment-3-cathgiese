{"ast":null,"code":"import _toConsumableArray from\"/Users/catherinegiese/Documents/GitHub/assignment-2-cathgiese/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/catherinegiese/Documents/GitHub/assignment-2-cathgiese/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import Button from\"../generic/Button/Button\";import Selector from\"../generic/Selector/Selector\";import{TimerContext}from'../../TimerProvider';import{makeId}from'../../utils/helpers';var TabataSelect=function TabataSelect(){var _useContext=useContext(TimerContext),timers=_useContext.timers,setTimers=_useContext.setTimers,totalTime=_useContext.totalTime,setTotalTime=_useContext.setTotalTime;var _useState=useState(500),_useState2=_slicedToArray(_useState,2),work=_useState2[0],setWork=_useState2[1];var _useState3=useState(500),_useState4=_slicedToArray(_useState3,2),rest=_useState4[0],setRest=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),rounds=_useState6[0],setRounds=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),clicked=_useState8[0],setClicked=_useState8[1];useEffect(function(){var intervalId;if(clicked){intervalId=setInterval(function(){setClicked(null);},1000);}return function(){return clearInterval(intervalId);};},[clicked,setClicked]);// Show numbers for seconds\nvar secNumbersList=[5,10,15,20,25,30,35,40,45,50,55];var secNumbers=secNumbersList.map(function(number){return/*#__PURE__*/React.createElement(\"option\",{value:number,key:number},number);});// Show max 30 rounds\nvar roundNumbersList=_toConsumableArray(Array(31).keys());var roundNumbers=roundNumbersList.slice(1).map(function(number){return/*#__PURE__*/React.createElement(\"option\",{value:number,key:number},number);});var handleTimer=function handleTimer(){setTimers([].concat(_toConsumableArray(timers),[{id:makeId(),work:work,rest:rest,rounds:rounds,type:\"tabata\",status:timers.length===0?\"running\":\"ready\"}]));setTotalTime(totalTime+work+rest);setClicked(true);};return/*#__PURE__*/React.createElement(\"div\",{className:\"grid-container\"},/*#__PURE__*/React.createElement(Selector,{label:\"sec\",onChange:function onChange(e){return setWork(e.target.value*100);},numbers:secNumbers}),/*#__PURE__*/React.createElement(Selector,{label:\"sec\",onChange:function onChange(e){return setRest(e.target.value*100);},numbers:secNumbers}),/*#__PURE__*/React.createElement(Selector,{label:\"rounds\",onChange:function onChange(e){return setRounds(e.target.value*1);},numbers:roundNumbers}),/*#__PURE__*/React.createElement(Button,{text:clicked?\"Added ✓\":\"Add\",color:clicked?\"Default-button Button-go\":\"Default-button\",onClick:handleTimer}));};export default TabataSelect;","map":{"version":3,"names":["React","useContext","useState","useEffect","Button","Selector","TimerContext","makeId","TabataSelect","_useContext","timers","setTimers","totalTime","setTotalTime","_useState","_useState2","_slicedToArray","work","setWork","_useState3","_useState4","rest","setRest","_useState5","_useState6","rounds","setRounds","_useState7","_useState8","clicked","setClicked","intervalId","setInterval","clearInterval","secNumbersList","secNumbers","map","number","createElement","value","key","roundNumbersList","_toConsumableArray","Array","keys","roundNumbers","slice","handleTimer","concat","id","type","status","length","className","label","onChange","e","target","numbers","text","color","onClick"],"sources":["/Users/catherinegiese/Documents/GitHub/assignment-2-cathgiese/src/components/selectors/TabataSelect.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\nimport Button from \"../generic/Button/Button\";\nimport Selector from \"../generic/Selector/Selector\";\nimport { TimerContext } from '../../TimerProvider';\nimport { makeId } from '../../utils/helpers';\n\nconst TabataSelect = () => { \n\n    const {timers, setTimers, totalTime, setTotalTime} = useContext(TimerContext)\n    const [work, setWork] = useState(500)\n    const [rest, setRest] = useState(500)\n    const [rounds, setRounds] = useState(1)\n    const [clicked, setClicked] = useState(null)\n\n    useEffect(() => {\n        let intervalId;\n        \n        if (clicked) {\n            intervalId = setInterval(() => {setClicked(null)}, 1000);\n        }\n        return () => clearInterval(intervalId);\n\n      }, [clicked, setClicked]);\n    \n    // Show numbers for seconds\n    const secNumbersList = [5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55]\n     const secNumbers = secNumbersList.map(number =>\n            <option value={number} key={number}>{number}</option>)\n    \n    // Show max 30 rounds\n    const roundNumbersList = [...Array(31).keys()]\n    const roundNumbers = roundNumbersList.slice(1).map(number =>\n        <option value={number} key={number}>{number}</option>)\n\n    const handleTimer = () => {\n        setTimers(\n            [...timers, \n            {id: makeId(),\n            work: work,\n            rest: rest,\n            rounds: rounds,\n            type: \"tabata\",\n            status: timers.length === 0 ? \"running\" : \"ready\"}])\n        setTotalTime(totalTime+work+rest)\n        setClicked(true)}\n\n    return (\n        <div className=\"grid-container\">\n            <Selector \n                label=\"sec\"\n                onChange={e => setWork(e.target.value*100)}\n                numbers={secNumbers}/>\n            <Selector \n                label=\"sec\"\n                onChange={e => setRest(e.target.value*100)}\n                numbers={secNumbers}/>\n            <Selector \n                label=\"rounds\"\n                onChange={e => setRounds(e.target.value*1)}\n                numbers={roundNumbers}/>\n            <Button \n                text={clicked ? \"Added ✓\" : \"Add\"}\n                color={clicked ? \"Default-button Button-go\" : \"Default-button\"}\n                onClick={handleTimer}/>\n        </div>\n    )\n};\n\nexport default TabataSelect;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}