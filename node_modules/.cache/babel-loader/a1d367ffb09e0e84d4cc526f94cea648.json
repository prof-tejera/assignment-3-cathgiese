{"ast":null,"code":"import _toConsumableArray from\"/Users/catherinegiese/Documents/GitHub/assignment-2-cathgiese/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/catherinegiese/Documents/GitHub/assignment-2-cathgiese/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useState}from\"react\";export var TimerContext=React.createContext({});var TimerProvider=function TimerProvider(_ref){var children=_ref.children;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),timers=_useState2[0],setTimers=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),isRunning=_useState4[0],setIsRunning=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),totalTime=_useState6[0],setTotalTime=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),isReset=_useState8[0],setIsReset=_useState8[1];// Current running timer\nvar _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),activeTimerIndex=_useState10[0],setActiveTimerIndex=_useState10[1];var totalTimeCalc=function totalTimeCalc(){var totalMin=timers.map(function(timer){return timer.minutes;});totalMin.forEach(function(val){return setTotalTime(totalTime+val);});var totalSec=timers.map(function(timer){return timer.seconds;});totalSec.forEach(function(val){return setTotalTime(totalTime+val);});};var nextTimer=function nextTimer(){if(activeTimerIndex===timers.length-1){timers[activeTimerIndex].status=\"complete\";setTimers(timers);restart();}else{timers[activeTimerIndex].status=\"complete\";timers[activeTimerIndex+1].status=\"running\";setActiveTimerIndex(activeTimerIndex+1);setTimers(timers);}};// Restart timer\nvar restart=function restart(){setIsReset(true);setIsRunning(null);setActiveTimerIndex(0);timers.map(function(timer){return timer.status=\"ready\";});timers[0].status=\"running\";setTimers(timers);};// Start or stop timer\nvar startStop=function startStop(){if(isRunning){setIsRunning(null);}else{setIsRunning(true);setIsReset(null);}};// Delete from queue\nvar remove=function remove(_ref2){var id=_ref2.id;if(timers.length===1){setTimers([]);}else{var match=timers.map(function(timer){return timer.id===id;});var i=match.indexOf(true);if(i===0){// Update timer list\nvar newTimers=timers.slice(1);newTimers[0].status=\"running\";setTimers(newTimers);// recalculate total time\nvar minusMin=timers.map(function(timer){return timer.minutes;});minusMin.forEach(function(val){return setTotalTime(totalTime-val);});var minusSec=timers.map(function(timer){return timer.seconds;});minusSec.forEach(function(val){return setTotalTime(totalTime-val);});}else{// Update timer list\nsetTimers([].concat(_toConsumableArray(timers.slice(0,i)),_toConsumableArray(timers.slice(i+1))));// recalculate total time\nvar _minusMin=timers.map(function(timer){return timer.minutes;});_minusMin.forEach(function(val){return setTotalTime(totalTime-val);});var _minusSec=timers.map(function(timer){return timer.seconds;});_minusSec.forEach(function(val){return setTotalTime(totalTime-val);});}}setActiveTimerIndex(0);};return/*#__PURE__*/React.createElement(TimerContext.Provider,{value:{timers:timers,setTimers:setTimers,isRunning:isRunning,setIsRunning:setIsRunning,totalTime:totalTime,setTotalTime:setTotalTime,totalTimeCalc:totalTimeCalc,activeTimerIndex:activeTimerIndex,setActiveTimerIndex:setActiveTimerIndex,nextTimer:nextTimer,restart:restart,startStop:startStop,isReset:isReset,setIsReset:setIsReset,remove:remove}},children);};export default TimerProvider;","map":{"version":3,"names":["React","useState","TimerContext","createContext","TimerProvider","_ref","children","_useState","_useState2","_slicedToArray","timers","setTimers","_useState3","_useState4","isRunning","setIsRunning","_useState5","_useState6","totalTime","setTotalTime","_useState7","_useState8","isReset","setIsReset","_useState9","_useState10","activeTimerIndex","setActiveTimerIndex","totalTimeCalc","totalMin","map","timer","minutes","forEach","val","totalSec","seconds","nextTimer","length","status","restart","startStop","remove","_ref2","id","match","i","indexOf","newTimers","slice","minusMin","minusSec","concat","_toConsumableArray","createElement","Provider","value"],"sources":["/Users/catherinegiese/Documents/GitHub/assignment-2-cathgiese/src/TimerProvider.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\n\nexport const TimerContext = React.createContext({});\n\nconst TimerProvider = ({ children }) => {\n    const [timers, setTimers] = useState([]);\n    const [isRunning, setIsRunning] = useState(null);\n    const [totalTime, setTotalTime] = useState(0);\n    const [isReset, setIsReset] = useState(null);\n\n    // Current running timer\n    const [activeTimerIndex, setActiveTimerIndex] = useState(0); \n    \n    const totalTimeCalc = () => {\n        const totalMin = timers.map((timer) => timer.minutes)\n        totalMin.forEach((val) => setTotalTime(totalTime+val))\n\n        const totalSec = timers.map((timer) => timer.seconds)\n        totalSec.forEach((val) => setTotalTime(totalTime+val))\n    }\n    \n    const nextTimer = () => {\n        if (activeTimerIndex === timers.length-1) {\n            timers[activeTimerIndex].status = \"complete\"\n            setTimers(timers)\n            restart()\n        }\n        else {\n            timers[activeTimerIndex].status = \"complete\"\n            timers[activeTimerIndex+1].status = \"running\"\n            setActiveTimerIndex(activeTimerIndex+1)\n            setTimers(timers)\n        }\n    }\n\n    // Restart timer\n    const restart = () => {\n        setIsReset(true)\n        setIsRunning(null)\n        setActiveTimerIndex(0)\n        timers.map((timer) => timer.status = \"ready\")\n        timers[0].status = \"running\"\n        setTimers(timers)\n    }\n\n    // Start or stop timer\n    const startStop = () => {\n        if (isRunning) {\n            setIsRunning(null)\n        } else {\n            setIsRunning(true)\n            setIsReset(null)\n        }\n    }\n\n    // Delete from queue\n    const remove = ({id}) => {\n\n        if (timers.length === 1) {\n            setTimers([])\n        }\n\n        else {\n            const match = timers.map((timer) => timer.id === id)\n            const i = match.indexOf(true)\n\n            if (i === 0) {\n                // Update timer list\n                const newTimers = timers.slice(1)\n                newTimers[0].status = \"running\"\n                setTimers(newTimers)\n\n                // recalculate total time\n                const minusMin = timers.map((timer) => timer.minutes)\n                minusMin.forEach((val) => setTotalTime(totalTime-val))\n\n                const minusSec = timers.map((timer) => timer.seconds)\n                minusSec.forEach((val) => setTotalTime(totalTime-val))\n            }\n    \n            else {\n                // Update timer list\n                setTimers([\n                 ...timers.slice(0, i),\n                 ...timers.slice(i + 1),\n               ])\n\n               // recalculate total time\n               const minusMin = timers.map((timer) => timer.minutes)\n               minusMin.forEach((val) => setTotalTime(totalTime-val))\n\n               const minusSec = timers.map((timer) => timer.seconds)\n               minusSec.forEach((val) => setTotalTime(totalTime-val))\n            }\n        }\n\n        setActiveTimerIndex(0)\n    }\n\n    return (\n        <TimerContext.Provider\n            value={{\n                timers,\n                setTimers,\n                isRunning,\n                setIsRunning,\n                totalTime,\n                setTotalTime,\n                totalTimeCalc,\n                activeTimerIndex,\n                setActiveTimerIndex,\n                nextTimer,\n                restart,\n                startStop,\n                isReset,\n                setIsReset,\n                remove\n            }}\n        >{children}</TimerContext.Provider>\n    )\n};\n\nexport default TimerProvider"],"mappings":"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"},"metadata":{},"sourceType":"module"}