{"ast":null,"code":"import _toConsumableArray from\"/Users/catherinegiese/Documents/GitHub/assignment-2-cathgiese/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/catherinegiese/Documents/GitHub/assignment-2-cathgiese/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState,useEffect}from'react';import Button from\"../generic/Button/Button\";import Selector from\"../generic/Selector/Selector\";import{TimerContext}from'../../TimerProvider';import{makeId}from'../../utils/helpers';var StopwatchSelect=function StopwatchSelect(){var _useContext=useContext(TimerContext),timers=_useContext.timers,setTimers=_useContext.setTimers,totalTime=_useContext.totalTime,setTotalTime=_useContext.setTotalTime;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),minutes=_useState2[0],setMinutes=_useState2[1];var _useState3=useState(500),_useState4=_slicedToArray(_useState3,2),seconds=_useState4[0],setSeconds=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),clicked=_useState6[0],setClicked=_useState6[1];useEffect(function(){var intervalId;if(clicked){intervalId=setInterval(function(){setClicked(null);},1000);}return function(){return clearInterval(intervalId);};},[clicked,setClicked]);// Show numbers for minutes and seconds\nvar minNumbersList=_toConsumableArray(Array(60).keys());var minNumbers=minNumbersList.map(function(number){return/*#__PURE__*/React.createElement(\"option\",{value:number,key:number},number);});var secNumbersList=[5,10,15,20,25,30,35,40,45,50,55];var secNumbers=secNumbersList.map(function(number){return/*#__PURE__*/React.createElement(\"option\",{value:number,key:number},number);});var handleTimer=function handleTimer(){setTimers([].concat(_toConsumableArray(timers),[{id:makeId(),minutes:minutes,seconds:seconds,type:\"stopwatch\",status:timers.length===0?\"running\":\"ready\"}]));setTotalTime(totalTime+minutes+seconds);setClicked(true);};return/*#__PURE__*/React.createElement(\"div\",{className:\"grid-container\"},/*#__PURE__*/React.createElement(Selector,{label:\"min\",onChange:function onChange(e){return setMinutes(e.target.value*6000);},numbers:minNumbers}),/*#__PURE__*/React.createElement(Selector,{label:\"sec\",onChange:function onChange(e){return setSeconds(e.target.value*100);},numbers:secNumbers}),/*#__PURE__*/React.createElement(Button,{text:clicked?\"Added ✓\":\"Add\",color:clicked?\"Default-button Button-go\":\"Default-button\",onClick:handleTimer}));};export default StopwatchSelect;","map":{"version":3,"names":["React","useContext","useState","useEffect","Button","Selector","TimerContext","makeId","StopwatchSelect","_useContext","timers","setTimers","totalTime","setTotalTime","_useState","_useState2","_slicedToArray","minutes","setMinutes","_useState3","_useState4","seconds","setSeconds","_useState5","_useState6","clicked","setClicked","intervalId","setInterval","clearInterval","minNumbersList","_toConsumableArray","Array","keys","minNumbers","map","number","createElement","value","key","secNumbersList","secNumbers","handleTimer","concat","id","type","status","length","className","label","onChange","e","target","numbers","text","color","onClick"],"sources":["/Users/catherinegiese/Documents/GitHub/assignment-2-cathgiese/src/components/selectors/StopwatchSelect.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\nimport Button from \"../generic/Button/Button\";\nimport Selector from \"../generic/Selector/Selector\";\nimport { TimerContext } from '../../TimerProvider';\nimport { makeId } from '../../utils/helpers';\n\nconst StopwatchSelect = () => { \n\n    const {timers, setTimers, totalTime, setTotalTime} = useContext(TimerContext)\n    const [minutes, setMinutes] = useState(0)\n    const [seconds, setSeconds] = useState(500)\n    const [clicked, setClicked] = useState(null)\n\n    useEffect(() => {\n        let intervalId;\n        \n        if (clicked) {\n            intervalId = setInterval(() => {setClicked(null)}, 1000);\n        }\n        return () => clearInterval(intervalId);\n\n      }, [clicked, setClicked]);\n\n    // Show numbers for minutes and seconds\n    const minNumbersList = [...Array(60).keys()]\n    const minNumbers = minNumbersList.map(number =>\n        <option value={number} key={number}>{number}</option>)\n\n    const secNumbersList = [5, 10, 15, 20, 25, 30, 35, 40, 45, 50, 55]\n     const secNumbers = secNumbersList.map(number =>\n            <option value={number} key={number}>{number}</option>)\n\n    const handleTimer = () => {\n        setTimers(\n            [...timers, \n            {id: makeId(),\n            minutes: minutes,\n            seconds: seconds,\n            type: \"stopwatch\",\n            status: timers.length === 0 ? \"running\" : \"ready\"}])\n        setTotalTime(totalTime+minutes+seconds)\n        setClicked(true)}\n\n    return (\n        <div className=\"grid-container\">\n            <Selector \n                label=\"min\"\n                onChange={e => setMinutes(e.target.value*6000)}\n                numbers={minNumbers}/>\n            <Selector \n                label=\"sec\"\n                onChange={e => setSeconds(e.target.value*100)}\n                numbers={secNumbers}/>\n            <Button \n                text={clicked ? \"Added ✓\" : \"Add\"}\n                color={clicked ? \"Default-button Button-go\" : \"Default-button\"}\n                onClick={handleTimer}/>\n        </div>\n    )\n};\n\nexport default StopwatchSelect;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}