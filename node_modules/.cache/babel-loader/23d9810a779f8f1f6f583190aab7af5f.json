{"ast":null,"code":"import React from\"react\";import{useState}from\"react\";export const TimerContext=React.createContext({});const TimerProvider=_ref=>{let{children}=_ref;const[timers,setTimers]=useState(window.location.hash?JSON.parse(decodeURIComponent(window.location.hash).slice(1)):[]);const[isRunning,setIsRunning]=useState(null);const[totalTime,setTotalTime]=useState(localStorage.getItem(\"TotalTime\")?parseInt(localStorage.getItem(\"TotalTime\")):0);const[isReset,setIsReset]=useState(null);const[isEditing,setIsEditing]=useState(null);// Current running timer\nconst[activeTimerIndex,setActiveTimerIndex]=useState(0);const totalTimeCalc=()=>{let globalCount=0;for(let i=0;i<timers.length;i++){if(timers[i].status!==\"complete\"){if(timers[i].type===\"XY\"){const totalMin=timers[i].minutes*parseInt(timers[i].rounds);const totalSec=timers[i].seconds*parseInt(timers[i].rounds);globalCount+=totalMin+totalSec;}else if(timers[i].type===\"Tabata\"){globalCount+=timers[i].seconds;}else{globalCount+=timers[i].minutes+timers[i].seconds;}}}setTotalTime(globalCount);};const nextTimer=()=>{if(activeTimerIndex===timers.length-1){timers[activeTimerIndex].status=\"complete\";setTimers(timers);restart();if(localStorage.getItem('history')){localStorage.setItem('history',localStorage.getItem('history')+JSON.stringify(timers));}else{localStorage.setItem('history',JSON.stringify(timers));}}else{timers[activeTimerIndex].status=\"complete\";timers[activeTimerIndex+1].status=\"running\";setActiveTimerIndex(activeTimerIndex+1);setTimers(timers);totalTimeCalc();}// Update URL\nwindow.location.hash=encodeURIComponent(JSON.stringify(timers));};// Restart timer\nconst restart=()=>{setIsReset(true);setIsRunning(null);setActiveTimerIndex(0);timers.map(timer=>timer.status=\"ready\");timers[0].status=\"running\";setTimers(timers);setTotalTime(0);// Update URL\nwindow.location.hash=encodeURIComponent(JSON.stringify(timers));};// Start or stop timer\nconst startStop=()=>{if(isRunning){setIsRunning(null);}else if(totalTime===0){totalTimeCalc();setIsRunning(true);setIsReset(null);}else{setIsRunning(true);setIsReset(null);}// Update URL\nwindow.location.hash=encodeURIComponent(JSON.stringify(timers));};// Edit timer\nconst edit=_ref2=>{let{id}=_ref2;setIsEditing(id);};// Delete from queue\nconst remove=_ref3=>{let{id}=_ref3;if(timers.length===1){setTimers([]);}else{const match=timers.map(timer=>timer.id===id);const i=match.indexOf(true);if(i===0){// Update timer list\nconst newTimers=timers.slice(1);newTimers[0].status=\"running\";setTimers(newTimers);}else{// Update timer list\nsetTimers([...timers.slice(0,i),...timers.slice(i+1)]);}}setTotalTime(0);setActiveTimerIndex(0);// Update URL\nwindow.location.hash=encodeURIComponent(JSON.stringify(timers));};return/*#__PURE__*/React.createElement(TimerContext.Provider,{value:{timers,setTimers,isRunning,setIsRunning,totalTime,setTotalTime,totalTimeCalc,activeTimerIndex,setActiveTimerIndex,nextTimer,restart,startStop,isReset,setIsReset,remove,edit,isEditing,setIsEditing}},children);};export default TimerProvider;","map":{"version":3,"names":["React","useState","TimerContext","createContext","TimerProvider","_ref","children","timers","setTimers","window","location","hash","JSON","parse","decodeURIComponent","slice","isRunning","setIsRunning","totalTime","setTotalTime","localStorage","getItem","parseInt","isReset","setIsReset","isEditing","setIsEditing","activeTimerIndex","setActiveTimerIndex","totalTimeCalc","globalCount","i","length","status","type","totalMin","minutes","rounds","totalSec","seconds","nextTimer","restart","setItem","stringify","encodeURIComponent","map","timer","startStop","edit","_ref2","id","remove","_ref3","match","indexOf","newTimers","createElement","Provider","value"],"sources":["/Users/catherinegiese/Documents/GitHub/assignment-3-cathgiese/src/TimerProvider.js"],"sourcesContent":["import React from \"react\";\nimport { useState } from \"react\";\n\nexport const TimerContext = React.createContext({});\n\nconst TimerProvider = ({ children }) => {\n    const [timers, setTimers] = useState(window.location.hash ? JSON.parse(decodeURIComponent(window.location.hash).slice(1)):[]);\n    const [isRunning, setIsRunning] = useState(null);\n    const [totalTime, setTotalTime] = useState(localStorage.getItem(\"TotalTime\") ? parseInt(localStorage.getItem(\"TotalTime\")):0);\n    const [isReset, setIsReset] = useState(null);\n    const [isEditing, setIsEditing] = useState(null);\n\n    // Current running timer\n    const [activeTimerIndex, setActiveTimerIndex] = useState(0); \n    \n    const totalTimeCalc = () => {\n        let globalCount = 0\n\n        for (let i = 0; i < timers.length; i++) {\n            if (timers[i].status !== \"complete\"){\n                if (timers[i].type === \"XY\") {\n                    const totalMin = (timers[i].minutes * parseInt(timers[i].rounds))\n                    const totalSec = (timers[i].seconds * parseInt(timers[i].rounds))\n                    globalCount += (totalMin + totalSec)\n                }\n\n                else if (timers[i].type === \"Tabata\") {\n                    globalCount += timers[i].seconds\n                }\n\n                else {\n                    globalCount += (timers[i].minutes + timers[i].seconds)\n                }\n            }\n        }\n        setTotalTime(globalCount)\n    }\n    \n    const nextTimer = () => {\n        if (activeTimerIndex === timers.length-1) {\n            timers[activeTimerIndex].status = \"complete\"\n            setTimers(timers)\n            restart()\n\n            if (localStorage.getItem('history')) {\n                localStorage.setItem('history', localStorage.getItem('history')+JSON.stringify(timers));\n            }\n\n            else {\n                localStorage.setItem('history', JSON.stringify(timers));  \n            }\n        }\n        else {\n            timers[activeTimerIndex].status = \"complete\"\n            timers[activeTimerIndex+1].status = \"running\"\n            setActiveTimerIndex(activeTimerIndex+1)\n            setTimers(timers)\n            totalTimeCalc()\n        }\n\n        // Update URL\n        window.location.hash = encodeURIComponent(JSON.stringify(timers))\n    }\n\n    // Restart timer\n    const restart = () => {\n        setIsReset(true)\n        setIsRunning(null)\n        setActiveTimerIndex(0)\n        timers.map((timer) => timer.status = \"ready\")\n        timers[0].status = \"running\"\n        setTimers(timers)\n        setTotalTime(0)\n\n        // Update URL\n        window.location.hash = encodeURIComponent(JSON.stringify(timers))\n    }\n\n    // Start or stop timer\n    const startStop = () => {\n        if (isRunning) {\n            setIsRunning(null)\n        } \n        else if (totalTime === 0){\n            totalTimeCalc()\n            setIsRunning(true)\n            setIsReset(null)\n        }\n        else {\n            setIsRunning(true)\n            setIsReset(null)\n        }\n\n        // Update URL\n        window.location.hash = encodeURIComponent(JSON.stringify(timers))\n    }\n\n    // Edit timer\n    const edit = ({id}) => {\n        setIsEditing(id)\n    }\n\n    // Delete from queue\n    const remove = ({id}) => {\n\n        if (timers.length === 1) {\n            setTimers([])\n        }\n\n        else {\n            const match = timers.map((timer) => timer.id === id)\n            const i = match.indexOf(true)\n\n            if (i === 0) {\n                // Update timer list\n                const newTimers = timers.slice(1)\n                newTimers[0].status = \"running\"\n                setTimers(newTimers)\n            }\n    \n            else {\n                // Update timer list\n                setTimers([\n                 ...timers.slice(0, i),\n                 ...timers.slice(i + 1),\n               ])\n            }\n        }\n\n        setTotalTime(0)\n        setActiveTimerIndex(0)\n\n        // Update URL\n        window.location.hash = encodeURIComponent(JSON.stringify(timers))\n    }\n\n    return (\n        <TimerContext.Provider\n            value={{\n                timers,\n                setTimers,\n                isRunning,\n                setIsRunning,\n                totalTime,\n                setTotalTime,\n                totalTimeCalc,\n                activeTimerIndex,\n                setActiveTimerIndex,\n                nextTimer,\n                restart,\n                startStop,\n                isReset,\n                setIsReset,\n                remove,\n                edit,\n                isEditing,\n                setIsEditing,\n            }}\n        >{children}</TimerContext.Provider>\n    )\n};\n\nexport default TimerProvider"],"mappings":"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"},"metadata":{},"sourceType":"module"}