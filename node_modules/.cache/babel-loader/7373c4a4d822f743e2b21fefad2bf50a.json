{"ast":null,"code":"import React,{useContext,useState,useEffect}from'react';import Button from\"../generic/Button/Button\";import Selector from\"../generic/Selector/Selector\";import Input from\"../generic/Input/Input\";import{TimerContext}from'../../TimerProvider';import{makeId,minNumbers,roundNumbers,secNumbers,timersTypes}from'../../utils/helpers';import\"./TimerForm.css\";const TimerForm=_ref=>{let{displayStyle}=_ref;const{timers,setTimers,isEditing,setIsEditing,setTotalTime}=useContext(TimerContext);const[minutes,setMinutes]=useState(0);const[seconds,setSeconds]=useState(500);const[clicked,setClicked]=useState(null);const[rounds,setRounds]=useState(1);const[work,setWork]=useState(500);const[rest,setRest]=useState(500);const[type,setType]=useState('Stopwatch');const[description,setDescription]=useState('');useEffect(()=>{let intervalId;if(clicked){intervalId=setTimeout(()=>{setClicked(null);},1000);}return()=>clearTimeout(intervalId);},[clicked,setClicked]);const handleTimer=()=>{if(isEditing!==null){// Get timer index\nconst match=timers.map(timer=>timer.id===isEditing);const i=match.indexOf(true);const timersCopy=Array.from(timers);if(type===\"Tabata\"){timersCopy[i]={id:isEditing,type:type,status:i===0?\"running\":\"ready\",description:description,seconds:(rest+work)*rounds,rounds:rounds,work:work,rest:rest};}else{timersCopy[i]={id:isEditing,type:type,status:i===0?\"running\":\"ready\",description:description,minutes:minutes,seconds:seconds,rounds:rounds,work:work,rest:rest};}setTimers(timersCopy);setIsEditing(null);}else{if(type===\"Tabata\"){setTimers([...timers,{id:makeId(),type:type,status:timers.length===0?\"running\":\"ready\",description:description,seconds:(rest+work)*rounds,rounds:rounds,work:work,rest:rest}]);}else{setTimers([...timers,{id:makeId(),type:type,status:timers.length===0?\"running\":\"ready\",description:description,minutes:minutes,seconds:seconds,rounds:rounds,work:work,rest:rest}]);}}setTotalTime(0);setClicked(true);};return/*#__PURE__*/React.createElement(\"div\",{className:displayStyle},/*#__PURE__*/React.createElement(Selector,{onChange:e=>setType(e.target.value),items:timersTypes}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Input,{onChange:e=>setDescription(e.target.value)})),type===\"Stopwatch\"||type===\"Countdown\"?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Selector,{label:\"min\",onChange:e=>setMinutes(e.target.value*6000),items:minNumbers}),/*#__PURE__*/React.createElement(Selector,{label:\"sec\",onChange:e=>setSeconds(e.target.value*100),items:secNumbers})):'',type===\"XY\"?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Selector,{label:\"min\",onChange:e=>setMinutes(e.target.value*6000),items:minNumbers}),/*#__PURE__*/React.createElement(Selector,{label:\"sec\",onChange:e=>setSeconds(e.target.value*100),items:secNumbers}),/*#__PURE__*/React.createElement(Selector,{label:\"rounds\",onChange:e=>setRounds(e.target.value),items:roundNumbers})):'',type===\"Tabata\"?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Selector,{label:\"sec\",onChange:e=>setWork(e.target.value*100),items:secNumbers}),/*#__PURE__*/React.createElement(Selector,{label:\"sec\",onChange:e=>setRest(e.target.value*100),items:secNumbers}),/*#__PURE__*/React.createElement(Selector,{label:\"rounds\",onChange:e=>setRounds(e.target.value),items:roundNumbers})):'',/*#__PURE__*/React.createElement(Button,{text:clicked?\"Added ✓\":isEditing?\"Update\":\"Add\",color:clicked?\"Default-button Button-go\":\"Default-button\",onClick:handleTimer}));};export default TimerForm;","map":{"version":3,"names":["React","useContext","useState","useEffect","Button","Selector","Input","TimerContext","makeId","minNumbers","roundNumbers","secNumbers","timersTypes","TimerForm","_ref","displayStyle","timers","setTimers","isEditing","setIsEditing","setTotalTime","minutes","setMinutes","seconds","setSeconds","clicked","setClicked","rounds","setRounds","work","setWork","rest","setRest","type","setType","description","setDescription","intervalId","setTimeout","clearTimeout","handleTimer","match","map","timer","id","i","indexOf","timersCopy","Array","from","status","length","createElement","className","onChange","e","target","value","items","label","text","color","onClick"],"sources":["/Users/catherinegiese/Documents/GitHub/assignment-3-cathgiese/src/components/selectors/TimerForm.js"],"sourcesContent":["import React, { useContext, useState, useEffect } from 'react'\nimport Button from \"../generic/Button/Button\";\nimport Selector from \"../generic/Selector/Selector\";\nimport Input from \"../generic/Input/Input\";\nimport { TimerContext } from '../../TimerProvider';\nimport { makeId, minNumbers, roundNumbers, secNumbers, timersTypes } from '../../utils/helpers';\nimport \"./TimerForm.css\";\n\nconst TimerForm = ({displayStyle}) => { \n\n    const {timers, setTimers, isEditing, setIsEditing, setTotalTime} = useContext(TimerContext)\n    const [minutes, setMinutes] = useState(0)\n    const [seconds, setSeconds] = useState(500)\n    const [clicked, setClicked] = useState(null)\n    const [rounds, setRounds] = useState(1)\n    const [work, setWork] = useState(500)\n    const [rest, setRest] = useState(500)\n    const [type, setType] = useState('Stopwatch')\n    const [description, setDescription] = useState('')\n\n    useEffect(() => {\n        let intervalId;\n        \n        if (clicked) {\n            intervalId = setTimeout(() => {setClicked(null)}, 1000);\n        }\n        return () => clearTimeout(intervalId);\n\n      }, [clicked, setClicked]);\n\n    const handleTimer = () => {\n        if (isEditing !== null) {\n            // Get timer index\n            const match = timers.map((timer) => timer.id === isEditing)\n            const i = match.indexOf(true)\n\n            const timersCopy = Array.from(timers)\n\n            if (type === \"Tabata\") {\n            timersCopy[i] = {\n                id: isEditing,\n                type: type,\n                status: i === 0 ? \"running\" : \"ready\",\n                description: description,\n                seconds: (rest + work)*rounds,\n                rounds: rounds,\n                work: work,\n                rest: rest }\n            }\n\n            else {\n                timersCopy[i] = {\n                    id: isEditing,\n                    type: type,\n                    status: i === 0 ? \"running\" : \"ready\",\n                    description: description,\n                    minutes: minutes,\n                    seconds: seconds,\n                    rounds: rounds,\n                    work: work,\n                    rest: rest }\n\n            }\n            setTimers(timersCopy)\n            setIsEditing(null)\n        }\n\n        else {\n            if (type === \"Tabata\") {\n            setTimers(\n                [...timers, \n                {id: makeId(),\n                type: type,\n                status: timers.length === 0 ? \"running\" : \"ready\",\n                description: description,\n                seconds: (rest + work)*rounds,\n                rounds: rounds,\n                work: work,\n                rest: rest }])\n            }\n\n            else {\n                setTimers(\n                    [...timers, \n                    {id: makeId(),\n                    type: type,\n                    status: timers.length === 0 ? \"running\" : \"ready\",\n                    description: description,\n                    minutes: minutes,\n                    seconds: seconds,\n                    rounds: rounds,\n                    work: work,\n                    rest: rest }])\n            }\n        }\n        setTotalTime(0)\n        setClicked(true)\n    }\n\n    return (\n        <div className={displayStyle}>\n            <Selector\n                onChange={e => setType(e.target.value)}\n                items={timersTypes}/>\n            <div>\n                <Input \n                    onChange={e => setDescription(e.target.value)}/>\n            </div>\n            \n            {type === \"Stopwatch\" || type === \"Countdown\" ? \n                <div><Selector \n                    label=\"min\"\n                    onChange={e => setMinutes(e.target.value*6000)}\n                    items={minNumbers}/>\n                <Selector \n                    label=\"sec\"\n                    onChange={e => setSeconds(e.target.value*100)}\n                    items={secNumbers}/></div> : ''\n            }\n\n            {type === \"XY\" ? \n                <div><Selector \n                    label=\"min\"\n                    onChange={e => setMinutes(e.target.value*6000)}\n                    items={minNumbers}/>\n                <Selector \n                    label=\"sec\"\n                    onChange={e => setSeconds(e.target.value*100)}\n                    items={secNumbers}/>\n                <Selector \n                    label=\"rounds\"\n                    onChange={e => setRounds(e.target.value)}\n                    items={roundNumbers}/></div> : ''\n            }\n\n            {type === \"Tabata\" ? \n                <div><Selector \n                    label=\"sec\"\n                    onChange={e => setWork(e.target.value*100)}\n                    items={secNumbers}/>\n                <Selector \n                    label=\"sec\"\n                    onChange={e => setRest(e.target.value*100)}\n                    items={secNumbers}/>\n                <Selector \n                    label=\"rounds\"\n                    onChange={e => setRounds(e.target.value)}\n                    items={roundNumbers}/></div> : ''\n            }\n            \n            <Button \n                text={clicked ? \"Added ✓\" : (isEditing ? \"Update\" : \"Add\")}\n                color={clicked ? \"Default-button Button-go\" : \"Default-button\"}\n                onClick={handleTimer}/>\n        </div>\n    )\n};\n\nexport default TimerForm;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC9D,MAAO,CAAAC,MAAM,KAAM,0BAA0B,CAC7C,MAAO,CAAAC,QAAQ,KAAM,8BAA8B,CACnD,MAAO,CAAAC,KAAK,KAAM,wBAAwB,CAC1C,OAASC,YAAY,KAAQ,qBAAqB,CAClD,OAASC,MAAM,CAAEC,UAAU,CAAEC,YAAY,CAAEC,UAAU,CAAEC,WAAW,KAAQ,qBAAqB,CAC/F,MAAO,iBAAiB,CAExB,KAAM,CAAAC,SAAS,CAAGC,IAAA,EAAoB,IAAnB,CAACC,YAAY,CAAC,CAAAD,IAAA,CAE7B,KAAM,CAACE,MAAM,CAAEC,SAAS,CAAEC,SAAS,CAAEC,YAAY,CAAEC,YAAY,CAAC,CAAGnB,UAAU,CAACM,YAAY,CAAC,CAC3F,KAAM,CAACc,OAAO,CAAEC,UAAU,CAAC,CAAGpB,QAAQ,CAAC,CAAC,CAAC,CACzC,KAAM,CAACqB,OAAO,CAAEC,UAAU,CAAC,CAAGtB,QAAQ,CAAC,GAAG,CAAC,CAC3C,KAAM,CAACuB,OAAO,CAAEC,UAAU,CAAC,CAAGxB,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACyB,MAAM,CAAEC,SAAS,CAAC,CAAG1B,QAAQ,CAAC,CAAC,CAAC,CACvC,KAAM,CAAC2B,IAAI,CAAEC,OAAO,CAAC,CAAG5B,QAAQ,CAAC,GAAG,CAAC,CACrC,KAAM,CAAC6B,IAAI,CAAEC,OAAO,CAAC,CAAG9B,QAAQ,CAAC,GAAG,CAAC,CACrC,KAAM,CAAC+B,IAAI,CAAEC,OAAO,CAAC,CAAGhC,QAAQ,CAAC,WAAW,CAAC,CAC7C,KAAM,CAACiC,WAAW,CAAEC,cAAc,CAAC,CAAGlC,QAAQ,CAAC,EAAE,CAAC,CAElDC,SAAS,CAAC,IAAM,CACZ,GAAI,CAAAkC,UAAU,CAEd,GAAIZ,OAAO,CAAE,CACTY,UAAU,CAAGC,UAAU,CAAC,IAAM,CAACZ,UAAU,CAAC,IAAI,CAAC,EAAC,CAAE,IAAI,CAAC,CAC3D,CACA,MAAO,IAAMa,YAAY,CAACF,UAAU,CAAC,CAEvC,CAAC,CAAE,CAACZ,OAAO,CAAEC,UAAU,CAAC,CAAC,CAE3B,KAAM,CAAAc,WAAW,CAAGA,CAAA,GAAM,CACtB,GAAItB,SAAS,GAAK,IAAI,CAAE,CACpB;AACA,KAAM,CAAAuB,KAAK,CAAGzB,MAAM,CAAC0B,GAAG,CAAEC,KAAK,EAAKA,KAAK,CAACC,EAAE,GAAK1B,SAAS,CAAC,CAC3D,KAAM,CAAA2B,CAAC,CAAGJ,KAAK,CAACK,OAAO,CAAC,IAAI,CAAC,CAE7B,KAAM,CAAAC,UAAU,CAAGC,KAAK,CAACC,IAAI,CAACjC,MAAM,CAAC,CAErC,GAAIiB,IAAI,GAAK,QAAQ,CAAE,CACvBc,UAAU,CAACF,CAAC,CAAC,CAAG,CACZD,EAAE,CAAE1B,SAAS,CACbe,IAAI,CAAEA,IAAI,CACViB,MAAM,CAAEL,CAAC,GAAK,CAAC,CAAG,SAAS,CAAG,OAAO,CACrCV,WAAW,CAAEA,WAAW,CACxBZ,OAAO,CAAE,CAACQ,IAAI,CAAGF,IAAI,EAAEF,MAAM,CAC7BA,MAAM,CAAEA,MAAM,CACdE,IAAI,CAAEA,IAAI,CACVE,IAAI,CAAEA,IAAK,CAAC,CAChB,CAAC,IAEI,CACDgB,UAAU,CAACF,CAAC,CAAC,CAAG,CACZD,EAAE,CAAE1B,SAAS,CACbe,IAAI,CAAEA,IAAI,CACViB,MAAM,CAAEL,CAAC,GAAK,CAAC,CAAG,SAAS,CAAG,OAAO,CACrCV,WAAW,CAAEA,WAAW,CACxBd,OAAO,CAAEA,OAAO,CAChBE,OAAO,CAAEA,OAAO,CAChBI,MAAM,CAAEA,MAAM,CACdE,IAAI,CAAEA,IAAI,CACVE,IAAI,CAAEA,IAAK,CAAC,CAEpB,CACAd,SAAS,CAAC8B,UAAU,CAAC,CACrB5B,YAAY,CAAC,IAAI,CAAC,CACtB,CAAC,IAEI,CACD,GAAIc,IAAI,GAAK,QAAQ,CAAE,CACvBhB,SAAS,CACL,CAAC,GAAGD,MAAM,CACV,CAAC4B,EAAE,CAAEpC,MAAM,CAAC,CAAC,CACbyB,IAAI,CAAEA,IAAI,CACViB,MAAM,CAAElC,MAAM,CAACmC,MAAM,GAAK,CAAC,CAAG,SAAS,CAAG,OAAO,CACjDhB,WAAW,CAAEA,WAAW,CACxBZ,OAAO,CAAE,CAACQ,IAAI,CAAGF,IAAI,EAAEF,MAAM,CAC7BA,MAAM,CAAEA,MAAM,CACdE,IAAI,CAAEA,IAAI,CACVE,IAAI,CAAEA,IAAK,CAAC,CAAC,CAAC,CAClB,CAAC,IAEI,CACDd,SAAS,CACL,CAAC,GAAGD,MAAM,CACV,CAAC4B,EAAE,CAAEpC,MAAM,CAAC,CAAC,CACbyB,IAAI,CAAEA,IAAI,CACViB,MAAM,CAAElC,MAAM,CAACmC,MAAM,GAAK,CAAC,CAAG,SAAS,CAAG,OAAO,CACjDhB,WAAW,CAAEA,WAAW,CACxBd,OAAO,CAAEA,OAAO,CAChBE,OAAO,CAAEA,OAAO,CAChBI,MAAM,CAAEA,MAAM,CACdE,IAAI,CAAEA,IAAI,CACVE,IAAI,CAAEA,IAAK,CAAC,CAAC,CAAC,CACtB,CACJ,CACAX,YAAY,CAAC,CAAC,CAAC,CACfM,UAAU,CAAC,IAAI,CAAC,CACpB,CAAC,CAED,mBACI1B,KAAA,CAAAoD,aAAA,QAAKC,SAAS,CAAEtC,YAAa,eACzBf,KAAA,CAAAoD,aAAA,CAAC/C,QAAQ,EACLiD,QAAQ,CAAEC,CAAC,EAAIrB,OAAO,CAACqB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CACvCC,KAAK,CAAE9C,WAAY,CAAC,CAAC,cACzBZ,KAAA,CAAAoD,aAAA,yBACIpD,KAAA,CAAAoD,aAAA,CAAC9C,KAAK,EACFgD,QAAQ,CAAEC,CAAC,EAAInB,cAAc,CAACmB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CAAC,CAClD,CAAC,CAELxB,IAAI,GAAK,WAAW,EAAIA,IAAI,GAAK,WAAW,cACzCjC,KAAA,CAAAoD,aAAA,yBAAKpD,KAAA,CAAAoD,aAAA,CAAC/C,QAAQ,EACVsD,KAAK,CAAC,KAAK,CACXL,QAAQ,CAAEC,CAAC,EAAIjC,UAAU,CAACiC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,IAAI,CAAE,CAC/CC,KAAK,CAAEjD,UAAW,CAAC,CAAC,cACxBT,KAAA,CAAAoD,aAAA,CAAC/C,QAAQ,EACLsD,KAAK,CAAC,KAAK,CACXL,QAAQ,CAAEC,CAAC,EAAI/B,UAAU,CAAC+B,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAE,CAC9CC,KAAK,CAAE/C,UAAW,CAAC,CAAM,CAAC,CAAG,EAAE,CAGtCsB,IAAI,GAAK,IAAI,cACVjC,KAAA,CAAAoD,aAAA,yBAAKpD,KAAA,CAAAoD,aAAA,CAAC/C,QAAQ,EACVsD,KAAK,CAAC,KAAK,CACXL,QAAQ,CAAEC,CAAC,EAAIjC,UAAU,CAACiC,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,IAAI,CAAE,CAC/CC,KAAK,CAAEjD,UAAW,CAAC,CAAC,cACxBT,KAAA,CAAAoD,aAAA,CAAC/C,QAAQ,EACLsD,KAAK,CAAC,KAAK,CACXL,QAAQ,CAAEC,CAAC,EAAI/B,UAAU,CAAC+B,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAE,CAC9CC,KAAK,CAAE/C,UAAW,CAAC,CAAC,cACxBX,KAAA,CAAAoD,aAAA,CAAC/C,QAAQ,EACLsD,KAAK,CAAC,QAAQ,CACdL,QAAQ,CAAEC,CAAC,EAAI3B,SAAS,CAAC2B,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CACzCC,KAAK,CAAEhD,YAAa,CAAC,CAAM,CAAC,CAAG,EAAE,CAGxCuB,IAAI,GAAK,QAAQ,cACdjC,KAAA,CAAAoD,aAAA,yBAAKpD,KAAA,CAAAoD,aAAA,CAAC/C,QAAQ,EACVsD,KAAK,CAAC,KAAK,CACXL,QAAQ,CAAEC,CAAC,EAAIzB,OAAO,CAACyB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAE,CAC3CC,KAAK,CAAE/C,UAAW,CAAC,CAAC,cACxBX,KAAA,CAAAoD,aAAA,CAAC/C,QAAQ,EACLsD,KAAK,CAAC,KAAK,CACXL,QAAQ,CAAEC,CAAC,EAAIvB,OAAO,CAACuB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,GAAG,CAAE,CAC3CC,KAAK,CAAE/C,UAAW,CAAC,CAAC,cACxBX,KAAA,CAAAoD,aAAA,CAAC/C,QAAQ,EACLsD,KAAK,CAAC,QAAQ,CACdL,QAAQ,CAAEC,CAAC,EAAI3B,SAAS,CAAC2B,CAAC,CAACC,MAAM,CAACC,KAAK,CAAE,CACzCC,KAAK,CAAEhD,YAAa,CAAC,CAAM,CAAC,CAAG,EAAE,cAGzCV,KAAA,CAAAoD,aAAA,CAAChD,MAAM,EACHwD,IAAI,CAAEnC,OAAO,CAAG,SAAS,CAAIP,SAAS,CAAG,QAAQ,CAAG,KAAO,CAC3D2C,KAAK,CAAEpC,OAAO,CAAG,0BAA0B,CAAG,gBAAiB,CAC/DqC,OAAO,CAAEtB,WAAY,CAAC,CACzB,CAAC,CAEd,CAAC,CAED,cAAe,CAAA3B,SAAS"},"metadata":{},"sourceType":"module"}